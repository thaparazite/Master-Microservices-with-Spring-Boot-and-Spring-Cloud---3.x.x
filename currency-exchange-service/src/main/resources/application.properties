# application's name
spring.application.name=currency-exchange-service

# set the port
server.port=8000

# set the config server
#spring.config.import=optional:configserver:http://localhost:8888
spring.cloud.config.enabled=false

# configure the datasource
spring.datasource.url=jdbc:h2:mem:currency-exchange-db
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=skety
spring.datasource.password=

# set & enable H2 console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# configure JPA
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.defer-datasource-initialization=true

spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:data.sql

# set eureka service url
eureka.client.service-url.defaultZone=http://localhost:8761/eureka

# set resiliance4j to retry the service 5 times
resilience4j.retry.instances.sample-api.max-attempts=5
# set the wait duration to 2 seconds
resilience4j.retry.instances.sample-api.wait-duration=2s

# set rate limiter
resilience4j.ratelimiter.instances.default.limit-for-period=2
resilience4j.ratelimiter.instances.default.limit-refresh-period=10s

# set bulkhead
resilience4j.bulkhead.instances.sample-api.max-concurrent-calls=10

# set the tracing probability
management.tracing.enabled=true
management.tracing.sampling.probability=0.8

# set the logging pattern level
logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]
